<header>
  <aside>
    <hgroup>
      <a href="/features" target="_top"><h1>{{APP_TITLE}}</h1></a>
      <!--<span>feature support, releases, usage metrics</span>-->
    </hgroup>
  </aside>
  <nav>
    <div class="flex-container flex-container-outer">

      <div class="flex-container flex-container-inner-first">
        <a class="flex-item" href="/features">All features</a>
        <a class="flex-item" href="/features/schedule">Releases</a>
        <a class="flex-item" href="/samples" class="features">Samples</a>
        <div class="nav-dropdown-container flex-item">
          <a class="nav-dropdown-trigger flex-item-inner">Stats
            <iron-icon icon="chromestatus:arrow-drop-down"></iron-icon>
          </a>
          <ul>
            <li><a href="/metrics/css/popularity">CSS</a></li>
            <li><a href="/metrics/feature/popularity">JS/HTML</a></li>
          </ul>
        </div>
      </div>

      <div class="flex-container flex-container-inner-second">
      {% if user %}
        <div class="nav-dropdown-container">
          <a class="nav-dropdown-trigger">
            {{user.email}}
            <iron-icon icon="chromestatus:arrow-drop-down"></iron-icon>
          </a>
          <ul>
            <li><a href="/settings">Settings</a></li>
            <li><a href="#" id="sign-out-link">Sign out</a></li>
          </ul>
        </div>
      {% else %}
        <!-- <div class="g-signin2" data-onsuccess="onSignIn"></div> -->
        <div id="gSignInWrapper">
          <div id="gSignInCustomBtn" class="customGPlusSignIn">
              <span class="gSignInIcon"></span>
          </div>
        </div>
        <script nonce="{{nonce}}">startApp();</script>
      {% endif %}
      </div>
    </div>

    


  </nav>
</header>

{% if user %}
  <script nonce="{{nonce}}">
    const signOutEl = document.querySelector('#sign-out-link');
    if (signOutEl) {
        signOutEl.addEventListener('click', (e) => {
            e.preventDefault();
            signOut();
        });
    }
  </script>
{% endif %}
